{"version":3,"file":"resolve.min.js","sources":["../src/settings.js","../src/exists.js","../src/core.js","../src/resolver.js","../src/cli.js"],"sourcesContent":["import fs from 'fs';\nimport _ from 'lodash/fp';\nimport { loadPartialConfig } from '@babel/core/lib/config';\n\nexport const defaultValidExtensions = ['.js', '.mjs', '.json', '.jsx'];\n\nlet settings = {};\nlet dependencies = [];\n\nconst pluginOptions = (name, babelRC) => _.flow(\n  _.get('options.plugins'),\n  _.find({\n    file: {\n      request: name,\n    },\n  }),\n  _.get('options'),\n)(babelRC);\n\nexport const clear = () => {\n  settings = {};\n  dependencies = {};\n};\n\nexport const parseJson = (rootDir, file) => {\n  try {\n    return JSON.parse(fs.readFileSync(`${rootDir}/${file}`, {\n      encoding: 'utf8',\n    }).toString());\n  } catch (error) {\n    return {};\n  }\n};\n\nconst defaults = {\n  root: [],\n  alias: {},\n  externals: [],\n};\n\nexport const readSettings = (rootDir = process.cwd()) => {\n  if (_.isEmpty(settings)) {\n    const babelRCPath = `${rootDir}/.babelrc`;\n\n    try {\n      fs.lstatSync(babelRCPath).isFile();\n    } catch (error) {\n      return defaults;\n    }\n\n    const babelRC = loadPartialConfig({\n      root: rootDir,\n      rootMode: 'root',\n      configFile: babelRCPath,\n    });\n\n    const mrs = pluginOptions('module-resolver', babelRC);\n    let ms = pluginOptions('resolver', babelRC);\n\n    ms = {\n      root: _.get('resolveDirs')(ms),\n      alias: _.get('alias')(ms),\n      externals: _.get('externals')(ms),\n    };\n\n    // { alias: [{a: b}, {c: d}]} => { alias: {a: b, c: d}}\n    const reduceAlias = o => _.assign(o)({\n      alias: _.reduce(_.assign, {})(o.alias),\n    });\n\n    settings = _.flow(\n      _.assignInWith(_.flow(\n        _.concat,\n        _.uniq,\n        _.compact,\n      )),\n      reduceAlias,\n      _.defaults(defaults),\n    )(mrs, ms);\n  }\n\n  return settings;\n};\n\nexport const readDependencies = (rootDir = '.') => {\n  if (_.isEmpty(dependencies)) {\n    const pkg = parseJson(rootDir, 'package.json');\n\n    dependencies = _.flow(\n      _.flatMap(p => _.toPairs(_.get(p)(pkg))),\n      _.compact,\n      _.map(_.nth(0)),\n      _.uniq,\n    )([\n      'dependencies',\n      'peerDependencies',\n      'devDependencies',\n    ]);\n  }\n\n  return dependencies;\n};\n","import _ from 'lodash/fp';\nimport fs from 'fs';\nimport path from 'path';\n\nimport { defaultValidExtensions, parseJson } from 'settings';\n\nexport const fileExists = (p, validExtensions = defaultValidExtensions) => {\n  const paths = _.concat(\n    p,\n    _.map(e => `${p}${e}`)(validExtensions),\n  );\n\n  return _.find((f) => {\n    try {\n      return fs.lstatSync(f).isFile();\n    } catch (error) {\n      return false;\n    }\n  })(paths);\n};\n\nexport const dirExists = (p) => {\n  try {\n    return fs.lstatSync(p).isDirectory();\n  } catch (error) {\n    return false;\n  }\n};\n\nconst exists = (mod, validExtensions) => _.reduce((result, lookup) => {\n  if (!result) {\n    return lookup();\n  }\n\n  return result;\n})(false)([\n  () => fileExists(mod, validExtensions),\n  () => fileExists(path.join(mod, 'index'), validExtensions),\n  () => {\n    if (fileExists(path.join(mod, 'package.json'))) {\n      const pkg = parseJson(mod, 'package.json');\n\n      const main = _.get('jsnext:main')(pkg) || _.get('main')(pkg) || null;\n      if (main) {\n        return fileExists(path.join(mod, main), validExtensions);\n      }\n    }\n\n    return false;\n  },\n]);\n\nexport default exists;\n","\nimport _ from 'lodash/fp';\n\nexport const coreModules = [\n  'assert', 'async_hooks', 'buffer_ieee754',\n  'buffer', 'child_process', 'cluster', 'console',\n  'constants', 'crypto', '_debugger', 'dgram',\n  'dns', 'domain', 'events', 'freelist', 'fs',\n  '_http_agent', '_http_client', '_http_common', '_http_incoming',\n  '_http_outgoing', '_http_server', 'http', 'http2', 'https',\n  'inspector', '_linklist', 'module', 'net',\n  'node-inspect/lib/_inspect',\n  'node-inspect/lib/internal/inspect_client',\n  'node-inspect/lib/internal/inspect_repl',\n  'os', 'path', 'perf_hooks', 'process', 'punycode', 'querystring',\n  'readline', 'repl', 'smalloc',\n  '_stream_duplex', '_stream_transform', '_stream_wrap', '_stream_passthrough', '_stream_readable', '_stream_writable',\n  'stream', 'string_decoder',\n  'sys', 'timers',\n  '_tls_common', '_tls_legacy', '_tls_wrap',\n  'tls', 'tty', 'url', 'util',\n  'v8/tools/codemap', 'v8/tools/consarray', 'v8/tools/csvparser', 'v8/tools/logreader', 'v8/tools/profile_view', 'v8/tools/splaytree',\n  'v8', 'vm', 'zlib',\n];\n\nexport default function isCore(mod) {\n  return _.includes(mod)(coreModules);\n}\n","import path from 'path';\nimport _ from 'lodash/fp';\n\nimport exists from 'exists';\nimport isCore from 'core';\n\nimport { readSettings, readDependencies, defaultValidExtensions } from 'settings';\n\nconst replaceAliases = (source, aliases) => _.reduce((r, v) => {\n  const [alias, mod] = v;\n\n  return _.flow(\n    _.replace(new RegExp(`^${alias}`), mod),\n    _.replace(new RegExp(`${alias}$`), mod),\n  )(r);\n})(source)(_.entries(aliases));\n\nconst lookupRelative = (source, file, validExtensions) => {\n  const rel = _.replace(/$.\\//, '')(source);\n  const curDirMod = path.join(path.dirname(file), rel);\n  return exists(curDirMod, validExtensions);\n};\n\nconst lookupExternals = (source, externals) => _.filter(_.overEvery([\n  _.isString,\n  _.overSome([\n    e => _.startsWith(e)(source),\n    e => source.match(e),\n  ]),\n]))(externals);\n\nconst lookupRoot = (source, root, roots, validExtensions) => {\n  const rootPaths = _.map(r => path.join(root, r, source))(roots);\n\n  return _.flow(\n    _.map(p => exists(p, validExtensions)),\n    _.compact,\n    _.nth(0),\n  )(rootPaths);\n};\n\nconst lookupDeps = (source, root, deps, validExtensions) => {\n  if (_.find(d => _.startsWith(d)(source))(deps)) {\n    return exists(path.join(root, 'node_modules', source), validExtensions);\n  }\n\n  return false;\n};\n\nexport const resolveAll = (source, file, options = {}) => {\n  if (_.overSome([_.isEmpty, s => !s])(source)) {\n    return { found: false };\n  }\n\n  if (isCore(source)) {\n    return { found: true };\n  }\n\n  const { root, validExtensions } = _.flow(\n    _.defaults({\n      root: process.cwd(),\n      extensions: defaultValidExtensions,\n    }),\n    s => ({\n      root: _.get('root')(s),\n      validExtensions: _.get('extensions')(s),\n    }),\n  )(options);\n\n  const settings = readSettings(root, options);\n  const aliasedSource = replaceAliases(source, settings.alias);\n  const deps = readDependencies(root);\n\n  return _.flow(\n    _.map(e => (_.isEmpty(e) ? undefined : e)),\n    _.compact,\n  )([\n    lookupRelative(aliasedSource, file, validExtensions),\n    lookupExternals(aliasedSource, settings.externals),\n    lookupRoot(aliasedSource, root, settings.root, validExtensions),\n    lookupDeps(aliasedSource, root, deps, validExtensions),\n  ]);\n};\n\nconst resolve = (source, file, options = {}) => {\n  const resolved = resolveAll(source, file, options);\n  if (_.get('found')(resolved)) {\n    return { found: true, path: file };\n  }\n\n  const filePath = _.nth(0)(resolved);\n  return { found: _.isString(filePath) || filePath === true, path: filePath };\n};\n\nexport default resolve;\n","import fs from 'fs';\nimport _ from 'lodash/fp';\nimport { resolveAll } from 'resolver';\n\nconst notExists = (f) => {\n  try {\n    return !fs.lstatSync(f).isFile();\n  } catch (error) {\n    return true;\n  }\n};\n\nconst files = _.filter(notExists)(process.argv);\n\n_.forEach((file) => {\n  const result = resolveAll(file, '', {\n    root: process.cwd(),\n  });\n\n  if (_.overSome([\n    _.equals({ found: false }),\n    _.equals([]),\n  ])(result)) {\n    // eslint-disable-next-line no-console\n    console.log(`${file} not found`);\n    return;\n  }\n\n  // eslint-disable-next-line no-console\n  console.log(`resolved ${file} to ${result}`);\n})(files);\n"],"names":["defaultValidExtensions","settings","dependencies","pluginOptions","name","babelRC","_","flow","get","find","file","request","parseJson","rootDir","JSON","parse","fs","readFileSync","encoding","toString","error","defaults","root","alias","externals","readSettings","process","cwd","isEmpty","babelRCPath","lstatSync","isFile","loadPartialConfig","rootMode","configFile","mrs","ms","assignInWith","concat","uniq","compact","reduceAlias","o","assign","reduce","readDependencies","pkg","flatMap","p","toPairs","map","nth","fileExists","validExtensions","paths","e","f","exists","mod","result","lookup","path","join","main","coreModules","isCore","includes","replaceAliases","source","aliases","r","v","replace","RegExp","entries","lookupRelative","rel","curDirMod","dirname","lookupExternals","filter","overEvery","isString","overSome","startsWith","match","lookupRoot","roots","rootPaths","lookupDeps","deps","d","resolveAll","options","s","found","extensions","aliasedSource","notExists","files","argv","forEach","equals","console","log"],"mappings":"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"}